\documentclass[11pt]{report}

% Dependencies
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{cases}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{fontspec}
\usepackage{titlesec, blindtext}
\usepackage[spanish,es-tabla]{babel}
\usepackage{tocloft}
\usepackage[
    hyperindex=true,
    bookmarks=true,
    bookmarksnumbered=true,
    hidelinks,
]{hyperref}
\usepackage[all]{hypcap}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}
\usepackage{bytefield}
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\footnotesize,
  columns=fullflexible,
  numbers=left,
  frame=single,
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
}
\usepackage{tikz}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document style                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[
    lmargin=3cm,
    rmargin=3cm,
    tmargin=2.5cm,
    bmargin=2.5cm,
]{geometry}
\setmainfont{Arial}
\definecolor{greyed}{RGB}{242,242,242}

\fancypagestyle{plain}{
    \setlength{\headheight}{18.18pt}
    \fancyhf{}
    \fancyhead[L]{
        \color{gray}
        \scriptsize
        Desarrollo de una herramienta de análisis de tráfico de red y su uso en algoritmos de ML para la detección de ataques.
        \\
        Raul Rabadan Arroyo
    }
    %\renewcommand{\headrulewidth}{0pt}
    \fancyfoot[R]{\thepage}
}
\pagestyle{plain}

\fancypagestyle{nonumber}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
}

\titleformat{\chapter}[hang]{\huge\bfseries}{\theHchapter.~}{0pt}{\huge\bfseries}
\titlespacing*{\chapter}{0pt}{0pt}{12pt}

\renewcommand{\baselinestretch}{1.5} 

\bibliographystyle{unsrt}
\addto\captionsspanish{\renewcommand{\bibname}{BIBLIOGRAFÍA}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Table of contents style                                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tocloftpagestyle{empty}

% Table of contents title
\setlength{\cftbeforetoctitleskip}{0ex}%
\setlength{\cftaftertoctitleskip}{0ex}%
\renewcommand{\cfttoctitlefont}{\hfill\textbf}%
\renewcommand{\cftaftertoctitle}{\hfill}%
\addto\captionsspanish{\renewcommand{\contentsname}{ÍNDICE}}

% Table of contents chapter
\setlength{\cftbeforechapskip}{1em}%
\setlength{\cftchapindent}{0em}%
\renewcommand{\cftchapaftersnum}{. \space}%
\renewcommand{\cftchapleader}{\hfill}%

% Table of contents section
\setlength{\cftbeforesecskip}{0.5em}%
\setlength{\cftsecindent}{0em}%
\renewcommand{\cftsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsecaftersnum}{. \space}%
\renewcommand{\cftsecleader}{\hfill}%

% Table of contents subsection
\setlength{\cftbeforesubsecskip}{0.5em}%
\setlength{\cftsubsecindent}{0em}%
\renewcommand{\cftsubsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsecaftersnum}{. \space}%
\renewcommand{\cftsubsecleader}{\hfill}%

% Table of contents subsubsection
\setlength{\cftbeforesubsubsecskip}{0.5em}%
\setlength{\cftsubsubsecindent}{0em}%
\renewcommand{\cftsubsubsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsubsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsubsecaftersnum}{. \space}%
\renewcommand{\cftsubsubsecleader}{\hfill}%

% List of figures title
\setlength{\cftbeforeloftitleskip}{0ex}%
\setlength{\cftafterloftitleskip}{0ex}%
\renewcommand{\cftloftitlefont}{\hfill\textbf}%
\renewcommand{\cftafterloftitle}{\hfill}%
\addto\captionsspanish{\renewcommand{\listfigurename}{ÍNDICE DE FIGURAS}}

% List of figures point
\renewcommand{\cftfigleader}{\hfill}%
\setlength{\cftfignumwidth}{5em}
\renewcommand{\cftfigpresnum}{Figura~}
\renewcommand{\cftfigaftersnum}{.}

% List of tables title
\setlength{\cftbeforelottitleskip}{0ex}%
\setlength{\cftafterlottitleskip}{0ex}%
\renewcommand{\cftlottitlefont}{\hfill\textbf}%
\renewcommand{\cftafterlottitle}{\hfill}%
\addto\captionsspanish{\renewcommand{\listtablename}{ÍNDICE DE TABLAS}}

% List of tables point
\renewcommand{\cfttableader}{\hfill}%
\setlength{\cfttabnumwidth}{5em}
\renewcommand{\cfttabpresnum}{Tabla~}
\renewcommand{\cfttabaftersnum}{.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Glossary                                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Import
\usepackage[acronym,automake,section=subsubsection]{glossaries}

% Generation
\makeglossaries

% Contents
\newglossaryentry{matrix}% the label
{name={matrix},% the term
 description={a rectangular table of elements},% brief description
 plural={matrices}% the plural
}

\newglossaryentry{userdatagramprotocol}% the label
{name={User Datagram Protocol},% the term
 description={Protocolo de red de la capa de transportes orientado a mensajes.},% brief description
}

\newacronym{ml}{ML}{Machine learning}
\newacronym{udp}{UDP}{User Datagram Protocol}

% Style

\addto\captionsspanish{\renewcommand{\glossaryname}{TÉRMINOS}}
\addto\captionsspanish{\renewcommand{\acronymname}{ACRÓNIMOS}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document                                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

% Front pages
\selectlanguage{spanish}
\include{front_pages/front_pages}

% Abatracts
\selectlanguage{spanish}
\include{abstract/abstract_es}
\selectlanguage{catalan}
\include{abstract/abstract_ca}
\selectlanguage{english}
\include{abstract/abstract_en}

% Indices
\selectlanguage{spanish}
\include{index_pages/index_pages}

% Contents
\include{introduction/introduction}
\include{theoretical_framework/theoretical_framework}
\include{practical_framework/practical_framework}

\color{black} %TODO remove this when revised

\include{conclusions/conclusions}
\include{acknowledgements/acknowledgements}

% Bibliography
\input{bibliography/bibliography}

% Appendix
\input{appendix/appendix\_tfg\_add\_titles.tex}

\end{document}
