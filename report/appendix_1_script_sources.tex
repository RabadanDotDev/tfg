\documentclass[11pt]{report}

% Dependencies
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{amssymb}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{fontspec}
\usepackage{titlesec, blindtext}
\usepackage[spanish,es-tabla]{babel}
\usepackage{tocloft}
\usepackage[
    hyperindex=true,
    bookmarks=true,
    bookmarksnumbered=true,
    hidelinks,
]{hyperref}
\usepackage[all]{hypcap}
\usepackage{caption}
\usepackage{float}
\usepackage{bytefield}
\usepackage{listings}
\usepackage{bibentry}
\lstset{
  basicstyle=\ttfamily\footnotesize,
  columns=fullflexible,
  numbers=left,
  frame=single,
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document style                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[
    lmargin=3cm,
    rmargin=3cm,
    tmargin=2.5cm,
    bmargin=2.5cm,
]{geometry}
\setmainfont{Arial}
\definecolor{greyed}{RGB}{242,242,242}

\fancypagestyle{plain}{
    \setlength{\headheight}{18.18pt}
    \fancyhf{}
    \fancyhead[L]{
        \color{gray}
        \scriptsize
        Desarrollo de una herramienta de análisis de tráfico de red y su uso en algoritmos de ML para la detección de ataques.
        \\
        Raul Rabadan Arroyo
    }
    %\renewcommand{\headrulewidth}{0pt}
    \fancyfoot[R]{\thepage}
}
\pagestyle{plain}

\fancypagestyle{nonumber}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
}

\titleformat{\chapter}[hang]{\huge\bfseries}{\theHchapter.~}{0pt}{\huge\bfseries}
\titlespacing*{\chapter}{0pt}{0pt}{12pt}

\renewcommand{\baselinestretch}{1.5} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Table of contents style                                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tocloftpagestyle{empty}

% Table of contents title
\setlength{\cftbeforetoctitleskip}{0ex}%
\setlength{\cftaftertoctitleskip}{0ex}%
\renewcommand{\cfttoctitlefont}{\hfill\textbf}%
\renewcommand{\cftaftertoctitle}{\hfill}%
\addto\captionsspanish{\renewcommand{\contentsname}{ÍNDICE}}

% Table of contents chapter
\setlength{\cftbeforechapskip}{1em}%
\setlength{\cftchapindent}{0em}%
\renewcommand{\cftchapaftersnum}{. \space}%
\renewcommand{\cftchapleader}{\hfill}%

% Table of contents section
\setlength{\cftbeforesecskip}{0.5em}%
\setlength{\cftsecindent}{0em}%
\renewcommand{\cftsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsecaftersnum}{. \space}%
\renewcommand{\cftsecleader}{\hfill}%

% Table of contents subsection
\setlength{\cftbeforesubsecskip}{0.5em}%
\setlength{\cftsubsecindent}{0em}%
\renewcommand{\cftsubsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsecaftersnum}{. \space}%
\renewcommand{\cftsubsecleader}{\hfill}%

% Table of contents subsubsection
\setlength{\cftbeforesubsubsecskip}{0.5em}%
\setlength{\cftsubsubsecindent}{0em}%
\renewcommand{\cftsubsubsecfont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsubsecpagefont}{\bfseries\footnotesize}%
\renewcommand{\cftsubsubsecaftersnum}{. \space}%
\renewcommand{\cftsubsubsecleader}{\hfill}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document                                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

% Make default compilation not complain about missing bib
\nocite{*}
\bibliographystyle{unsrt}
\nobibliography{refsapp1}

\selectlanguage{spanish}

% Front page
\begin{titlepage}
    \includegraphics{media/epsevg_logo.jpeg}
    \begin{center}

        \vspace{1.5cm}
        {\Huge\textbf{TRABAJO FINAL DE GRADO}}

        \vfill
        {\Large\textbf{ANEXO 1: CÓDIGO FUENTE SCRIPTS Y CONFIGURACIÓN}}


        \vfill

        \setlength\fboxsep{0.5cm}\fbox{
            \parbox{13.5cm}{
                \par{
                    \textbf{TÍTULO:} \MakeUppercase[]{Desarrollo de una herramienta de análisis de tráfico de red y su uso en algoritmos de ML para la detección de ataques.}
                    \\[\baselineskip]
                    \textbf{AUTOR:} RABADAN ARROYO, RAUL
                    \\[\baselineskip]
                    \textbf{FECHA DE PRESENTACIÓN:} JULIO, 2024
                }
            }
        }

        \vfill

    \end{center}
\end{titlepage}

% Index
\tableofcontents
\newpage

\chapter{Análisis inicial CIC-DDos2019}
\section{extract\_info\_cicddos\_2019\_csvs.py}
\lstinputlisting[language=Python]{../scripts/extract_info_cicddos_2019_csvs.py}

\section{plot\_info\_cicddos\_2019\_csvs.py}
\lstinputlisting[language=Python]{../scripts/plot_info_cicddos_2019_csvs.py}

\section{extract\_info\_cicddos\_2019\_pcap\_tshark.sh}
\lstinputlisting[language=Bash]{../scripts/extract_info_cicddos_2019_pcaps_tshark.sh}

\section{evaluate\_info\_cicddos\_2019\_pcaps\_tshark.py}
\lstinputlisting[language=Python]{../scripts/evaluate_info_cicddos_2019_pcaps_tshark.py}

\chapter{Análisis inicial BoT-IoT}
\section{extract\_info\_botiot\_csvs\_full\_dataset.py}
\lstinputlisting[language=Python]{../scripts/extract_info_botiot_csvs_fulldataset.py}

\section{plot\_info\_botiot\_csvs.py}
\lstinputlisting[language=Python]{../scripts/plot_info_botiot_csvs.py}

\section{extract\_info\_botiot\_pcap\_tshark.sh}
\lstinputlisting[language=Bash]{../scripts/extract_info_botiot_pcaps_tshark.sh}

\section{evaluate\_info\_botiot\_pcaps\_tshark.py}
\lstinputlisting[language=Python]{../scripts/evaluate_info_botiot_pcaps_tshark.py}

\chapter{Análisis inicial TON-IoT}
\section{extract\_info\_toniot\_csvs.py}
\lstinputlisting[language=Python]{../scripts/extract_info_toniot_csvs.py}

\section{plot\_info\_toniot\_csvs.py}
\lstinputlisting[language=Python]{../scripts/plot_info_botiot_csvs.py}

\section{extract\_info\_toniot\_pcap\_tshark.sh}
\lstinputlisting[language=Bash]{../scripts/extract_info_toniot_pcaps_tshark.sh}

\section{evaluate\_info\_toniot\_pcaps\_tshark.py}
\lstinputlisting[language=Python]{../scripts/evaluate_info_toniot_pcaps_tshark.py}

\chapter{Entorno de desarollo}
\section{devcontainer.json}
\lstinputlisting[]{../.devcontainer/devcontainer.json}

\section{install-dependencies.sh}
\lstinputlisting[]{../.devcontainer/install-dependencies.sh}


\end{document}
