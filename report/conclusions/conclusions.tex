\newpage
\pagestyle{plain}

\color{blue} %TODO remove this when revised

\chapter{CONCLUSIONES}

Como recapitulación del trabajo, primero haremos un recuento aproximado de los posibles costes que se hubiesen incurrido en caso de haber sido un proyecto empresarial. Después de esto, se hará un análisis de los resultados generales obtenidos y continuaremos con indicaciones sobre posible trabajo futuro. Finalmente, concluiremos con los agradecimientos.

\section{Costes}

\begin{table}[H]
  \centering
  \begin{tabular}{|l | r |}
      \hline
      \rowcolor{lightgray} \textbf{Tarea}                & \textbf{Horas}       \\  
      \hline
      \rowcolor{lightgray} Gestión del proyecto     &  45                  \\
      Reuniones de seguimiento                      &  35                  \\
      Gestión de las tareas                         &   5                  \\
      Planificación temporal                        &   5                  \\  
      \hline
      \rowcolor{lightgray} Investigación            & 125                  \\
      Herramientas de extracción de características &  75                  \\
      Conjuntos de datos                            &  30                  \\
      Formatos y protocolos de red                  &  10                  \\
      Otro software utilizado                       &  10                  \\
      \hline
      \rowcolor{lightgray} Desarrollo               & 220                  \\
      Programación de la herramienta                & 110                  \\
      Extensión de la librería de código abierto    &  30                  \\
      Modelos de \acrshort{ml}                      &  80                  \\
      \hline
      \rowcolor{lightgray} Documentación            & 145                  \\
      Redacción de la memoria                       & 110                  \\
      Artículo                                      &  20                  \\
      Presentación                                  &  15                  \\
      \hline
      \rowcolor{lightgray} Total                    & 535                  \\
      \hline
  \end{tabular}
  \caption{Horas aproximadas dedicadas a diferentes partes del proyecto}
  \label{table:horasdedicadas}
\end{table}

En la Tabla \ref{table:horasdedicadas} se puede observar un desglose aproximado de las horas utilizadas para el desarrollo del proyecto. Debido a que se estaban cursando asignaturas y colaborando con el grupo de Investigación CRAAX al mismo tiempo, es posible que haya habido interferencias y el número real sea inferior o superior. 

Respecto al coste por horas, podemos ver en la Tabla \ref{table:salarios} un posible coste de la realización del trabajo, tomando como referencia diferentes salarios medios según la tarea realizada. El total asciende a 13 447.47, aunque los tiempos requeridos y los salarios podrían haber sido distintos en un entrono empresarial.

\begin{table}[H]
  \centering
  \begin{tabular}{|l | c c c |}
      \hline
      \rowcolor{lightgray} \textbf{Rol} & \textbf{Salario medio por hora}            & \textbf{Horas totales} & \textbf{Coste total} \\ \hline
      Ingeniero de proyectos            & 14.10 € \cite{salarioingenierodeproyectos} &  45                    &    634.5  €          \\
      Programador                       & 14.36 € \cite{salarioprogramador}          & 235                    &  9 111.42 €          \\
      Científico de datos               & 20.64 € \cite{salariodatasci}              & 110                    &  2 270.4  €          \\
      Redactor técnico                  &  9.87 € \cite{salarioredactor}             & 145                    &  1 431.15 €          \\ \hline
      \rowcolor{lightgray}              &                                           &                        & \textbf{13 447.47 €}  \\
      \hline
  \end{tabular}
  \caption{Cálculo coste horas por tarea realizada}
  \label{table:salarios}
\end{table}

No se han incurrido en costes de licencias, ya que todo el software utilizado ha sido gratuito o de código libre. Para el caso del ordenador de sobremesa, donde se han ejecutado los algoritmos y se ha hecho la mayor parte del desarrollo, está valorado en unos 2 500 €.

Si hacemos la suma total, el coste total sería de unos 16 000 €. Cabe notar que esta suma se ha realizado sin tener en cuenta costes indirectos como la factura eléctrica.

\section{Análisis de resultados}

Durante el transcurso del proyecto, se han analizado diferentes conjuntos de datos y herramientas disponibles. Con esto, hemos detectado que había otras herramientas que podían ofrecer una funcionalidad similar a CICFlowMeter, pero que no existía una herramienta que nos ofreciese el etiquetado automático de flujos sin tener que realizar pasos extras. Adicionalmente, muchas herramientas analizadas asumían una instalación más general o la interfaz por consola no era tan directa. Esta información ha permitido desarrollar un programa, el cual puede rellenar este caso de uso específico. Es decir, el poder generar estadísticas de flujos con etiquetas asociadas tanto en tiempo real como con trazas de red para entrenar modelos directamente de estas. Una vez realizado esto, el despliegue de esta herramienta no requiere de una gran complejidad, ya que es un programa compilado, el cual requiere una cantidad limitada de librerías dinámicas.

Cuando se realizó el uso de la herramienta para entrenar modelos, se pudieron descubrir problemas en la implementación. Se vio que el asumir que los flujos que no tenían etiqueta disponible eran benignos y no tener en cuenta el protocolo de transporte empeoraba sustancialmente la capacidad de los modelos para poder obtener un buen rendimiento. La mayoría de modelos entrenados tienen muy buen rendimiento, indicando que los datos generados por la herramienta permiten identificar el comportamiento de los flujos. Sin embargo, es posible que solo funcionen correctamente sobre los entornos sintéticos originales donde se generaron los datos y que en una situación real los resultados varían.

Personalmente, el trabajo me ha permitido probar a desarrollar por primera vez sobre Rust y ver cómo el resultado generado era útil. Considero que la decisión de utilizar este lenguaje, pese a no haber tenido experiencia anterior con él, ha sido correcta. Adicionalmente, ha sido interesante el tomar una herramienta, la cual había sido utilizada en el grupo de investigación para ciertos casos, analizarla y diseñar e implementar una nueva que mejore las carencias de la original.

\section{Trabajo futuro}

Existen muchas posibles ramas de trabajo futuras como continuación de este proyecto. Por cada parte de la herramienta, es posible añadir nuevas características. Adicionalmente, se puede tratar de integrar en entornos más generales y hacer uso de esta bajo otros contextos.

La herramienta solo tiene soporte para dos capas de enlace y dos protocolos de transporte. Se podría añadir soporte para analizar flujos de comunicación en diferentes capas de la pila OSI y más cantidad de protocolos aceptados. Ejemplos pueden ser comunicaciones transmitidas sobre Bluetooth o 5G e incluso analizar si las peticiones de la capa de aplicación son válidas. Otra opción es añadir soporte para correlacionar diferentes flujos, sea para mejorar la detección de ataques DDoS o incluir información sobre comunicaciones que se transmitan en flujos paralelos como en RTP/RSTP.

Adicionalmente, hay partes de la herramienta donde se hacen copias de los datos o no se limita la capacidad máxima de las estructuras de datos. No se ha tenido en cuenta este punto en el desarrollo para poder tener un código más simple. Sin embargo, si se llegase a desplegar una herramienta y un atacante tratase de, por ejemplo, tomar ventaja de cómo reconstruimos paquetes IP fragmentados, sería posible provocar que se termine la memoria RAM disponible. Una posible solución simple para evitar esto es descartar cualquier paquete fragmentado y no tratar de reconstruirlo. 

Otro punto de posible mejora consiste en la creación de mayores tests del código para asegurar su buen funcionamiento incluso en casos inesperados. Con herramientas de cobertura de código se podrían detectar flujos de ejecución, los cuales no tienen tests asociados y podrían tener errores lógicos ocultos.

Otra categoría de posible trabajo futuro consiste en aplicar la herramienta sobre otros algoritmos de \gls{ml} o conjuntos de datos. Observar si los modelos son capaces de generalizar a otros entornos puede indicar con mayor certeza si la herramienta puede ser utilizada en cualquier tipo de contexto o si es más efectiva en zonas específicas de la infraestructura.

\section{Agradecimientos}

Primero de todo, quiero agradecer a mis padres por el apoyo y palabras de aliento que he recibido durante el transcurso de mis estudios y de esta fase final del grado. Sin este, no hubiese sido posible haber llegado hasta este punto ni haber tenido la capacidad o la perseverancia para el desarrollo del trabajo.

A continuación, agradezco al profesorado, el cual me ha permitido descubrir y consolidar conceptos que de otra manera hubiese sido mucho más difícil obtener. Con especialidad a Ester Simo, la directora del proyecto, que ha ayudado a tener un control del progreso del proyecto, la detección de mejoras en la redacción y el desbloqueo para saber por dónde continuar en los momentos en que los resultados obtenidos eran muy inferiores a lo esperado.

Finalmente, quiero mostrar mis agradecimientos a la Escola Politécnica Superior d'Enginyeria de Vilanova i la Geltrú y al Centre de Recerca d'Arquitectures Avançades de Xarxes (CRAAX), por ofrecerme la oportunidad de realizar mis estudios, prácticas y trabajo final de grado con ellos. 

\color{black}
